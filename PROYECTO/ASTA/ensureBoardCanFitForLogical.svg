<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="998px" preserveAspectRatio="none" style="width:611px;height:998px;background:#FFFFFF;" version="1.1" viewBox="0 0 611 998" width="611px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="143.5313" style="stroke:#000000;stroke-width:1.5;" width="209.5645" x="255.8091" y="211.6953"/><rect fill="none" height="143.5313" style="stroke:#000000;stroke-width:1.5;" width="203.3564" x="255.8091" y="369.2266"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="192.0796" x="255.8091" y="526.7578"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="186.3862" x="255.8091" y="600.0234"/><rect fill="none" height="227.7969" style="stroke:#000000;stroke-width:1.5;" width="326.5835" x="255.8091" y="673.2891"/><g><title>Actor0</title><rect fill="#000000" fill-opacity="0.00000" height="836.7891" width="8" x="26.9961" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="30" x2="30" y1="81.2969" y2="918.0859"/></g><g><title>SilkRoad</title><rect fill="#000000" fill-opacity="0.00000" height="836.7891" width="8" x="299.0752" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="302.8091" x2="302.8091" y1="81.2969" y2="918.0859"/></g><g><title>Board</title><rect fill="#000000" fill-opacity="0.00000" height="836.7891" width="8" x="573.3926" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="576.6968" x2="576.6968" y1="81.2969" y2="918.0859"/></g><g class="participant participant-head" data-participant="Actor0"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9922" x="5" y="77.9951">Actor0</text><ellipse cx="30.9961" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M30.9961,21.5 L30.9961,48.5 M17.9961,29.5 L43.9961,29.5 M30.9961,48.5 L17.9961,63.5 M30.9961,48.5 L43.9961,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Actor0"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9922" x="5" y="930.0811">Actor0</text><ellipse cx="30.9961" cy="941.8828" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M30.9961,949.8828 L30.9961,976.8828 M17.9961,957.8828 L43.9961,957.8828 M30.9961,976.8828 L17.9961,991.8828 M30.9961,976.8828 L43.9961,991.8828" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="SilkRoad"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.5322" x="265.8091" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.5322" x="272.8091" y="69.9951">SilkRoad</text></g><g class="participant participant-tail" data-participant="SilkRoad"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.5322" x="265.8091" y="917.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.5322" x="272.8091" y="937.0811">SilkRoad</text></g><g class="participant participant-head" data-participant="Board"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55.3916" x="549.6968" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3916" x="556.6968" y="69.9951">Board</text></g><g class="participant participant-tail" data-participant="Board"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55.3916" x="549.6968" y="917.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3916" x="556.6968" y="937.0811">Board</text></g><g class="message" data-participant-1="Actor0" data-participant-2="SilkRoad"><polygon fill="#181818" points="291.0752,108.4297,301.0752,112.4297,291.0752,116.4297,295.0752,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="30.9961" x2="297.0752" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.0791" x="37.9961" y="107.3638">ensureBoardCanFitLogical(rLog, cLog)</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="141.5625" y2="141.5625"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="141.5625" y2="154.5625"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="154.5625" y2="154.5625"/><polygon fill="#181818" points="314.0752,150.5625,304.0752,154.5625,314.0752,158.5625,310.0752,154.5625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.3359" x="310.0752" y="136.4966">br = rLog + originRow</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="183.6953" y2="183.6953"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="183.6953" y2="196.6953"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="196.6953" y2="196.6953"/><polygon fill="#181818" points="314.0752,192.6953,304.0752,196.6953,314.0752,200.6953,310.0752,196.6953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.9653" x="310.0752" y="178.6294">bc = cLog + originCol</text></g><path d="M255.8091,211.6953 L320.252,211.6953 L320.252,218.8281 L310.252,228.8281 L255.8091,228.8281 L255.8091,211.6953" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="143.5313" style="stroke:#000000;stroke-width:1.5;" width="209.5645" x="255.8091" y="211.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="270.8091" y="224.7622">alt</text><a href="if" target="_top" title="if" xlink:actuate="onRequest" xlink:href="if" xlink:show="new" xlink:title="if" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="47.8833" x="335.252" y="223.9058">(br &lt; 0)</text></a><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="249.9609" y2="249.9609"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="249.9609" y2="262.9609"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="262.9609" y2="262.9609"/><polygon fill="#181818" points="314.0752,258.9609,304.0752,262.9609,314.0752,266.9609,310.0752,262.9609" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.0615" x="310.0752" y="244.895">addTop = -br</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="292.0938" y2="292.0938"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="292.0938" y2="305.0938"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="305.0938" y2="305.0938"/><polygon fill="#181818" points="314.0752,301.0938,304.0752,305.0938,314.0752,309.0938,310.0752,305.0938" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.2983" x="310.0752" y="287.0278">originRow += addTop</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="334.2266" y2="334.2266"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="334.2266" y2="347.2266"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="347.2266" y2="347.2266"/><polygon fill="#181818" points="314.0752,343.2266,304.0752,347.2266,314.0752,351.2266,310.0752,347.2266" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.9277" x="310.0752" y="329.1606">newRows += addTop</text></g><path d="M255.8091,369.2266 L320.252,369.2266 L320.252,376.3594 L310.252,386.3594 L255.8091,386.3594 L255.8091,369.2266" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="143.5313" style="stroke:#000000;stroke-width:1.5;" width="203.3564" x="255.8091" y="369.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="270.8091" y="382.2935">alt</text><a href="if" target="_top" title="if" xlink:actuate="onRequest" xlink:href="if" xlink:show="new" xlink:title="if" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="48.979" x="335.252" y="381.437">(bc &lt; 0)</text></a><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="407.4922" y2="407.4922"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="407.4922" y2="420.4922"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="420.4922" y2="420.4922"/><polygon fill="#181818" points="314.0752,416.4922,304.0752,420.4922,314.0752,424.4922,310.0752,420.4922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.6323" x="310.0752" y="402.4263">addLeft = -bc</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="449.625" y2="449.625"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="449.625" y2="462.625"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="462.625" y2="462.625"/><polygon fill="#181818" points="314.0752,458.625,304.0752,462.625,314.0752,466.625,310.0752,462.625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.0903" x="310.0752" y="444.5591">originCol += addLeft</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="491.7578" y2="491.7578"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="491.7578" y2="504.7578"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="504.7578" y2="504.7578"/><polygon fill="#181818" points="314.0752,500.7578,304.0752,504.7578,314.0752,508.7578,310.0752,504.7578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7197" x="310.0752" y="486.6919">newCols += addLeft</text></g><path d="M255.8091,526.7578 L320.252,526.7578 L320.252,533.8906 L310.252,543.8906 L255.8091,543.8906 L255.8091,526.7578" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="192.0796" x="255.8091" y="526.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="270.8091" y="539.8247">alt</text><a href="if" target="_top" title="if" xlink:actuate="onRequest" xlink:href="if" xlink:show="new" xlink:title="if" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="107.6367" x="335.252" y="538.9683">(br &gt;= newRows)</text></a><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="565.0234" y2="565.0234"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="565.0234" y2="578.0234"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="578.0234" y2="578.0234"/><polygon fill="#181818" points="314.0752,574.0234,304.0752,578.0234,314.0752,582.0234,310.0752,578.0234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.4434" x="310.0752" y="559.9575">newRows = br + 1</text></g><path d="M255.8091,600.0234 L320.252,600.0234 L320.252,607.1563 L310.252,617.1563 L255.8091,617.1563 L255.8091,600.0234" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="186.3862" x="255.8091" y="600.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="270.8091" y="613.0903">alt</text><a href="if" target="_top" title="if" xlink:actuate="onRequest" xlink:href="if" xlink:show="new" xlink:title="if" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="101.9434" x="335.252" y="612.2339">(bc &gt;= newCols)</text></a><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="638.2891" y2="638.2891"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="638.2891" y2="651.2891"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="651.2891" y2="651.2891"/><polygon fill="#181818" points="314.0752,647.2891,304.0752,651.2891,314.0752,655.2891,310.0752,651.2891" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.27" x="310.0752" y="633.2231">newCols = bc + 1</text></g><path d="M255.8091,673.2891 L320.252,673.2891 L320.252,680.4219 L310.252,690.4219 L255.8091,690.4219 L255.8091,673.2891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="227.7969" style="stroke:#000000;stroke-width:1.5;" width="326.5835" x="255.8091" y="673.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="270.8091" y="686.356">alt</text><a href="if" target="_top" title="if" xlink:actuate="onRequest" xlink:href="if" xlink:show="new" xlink:title="if" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="128.106" x="335.252" y="685.4995">(board needs resize)</text></a><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="711.5547" y2="711.5547"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="711.5547" y2="724.5547"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="724.5547" y2="724.5547"/><polygon fill="#181818" points="314.0752,720.5547,304.0752,724.5547,314.0752,728.5547,310.0752,724.5547" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.8257" x="310.0752" y="706.4888">board.makeInvisible()</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="753.6875" y2="753.6875"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="753.6875" y2="766.6875"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="766.6875" y2="766.6875"/><polygon fill="#181818" points="314.0752,762.6875,304.0752,766.6875,314.0752,770.6875,310.0752,766.6875" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.3174" x="310.0752" y="748.6216">board = new Board(newRows, newCols)</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="795.8203" y2="795.8203"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="795.8203" y2="808.8203"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="808.8203" y2="808.8203"/><polygon fill="#181818" points="314.0752,804.8203,304.0752,808.8203,314.0752,812.8203,310.0752,808.8203" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9521" x="310.0752" y="790.7544">board.makeVisible()</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="837.9531" y2="837.9531"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="837.9531" y2="850.9531"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="850.9531" y2="850.9531"/><polygon fill="#181818" points="314.0752,846.9531,304.0752,850.9531,314.0752,854.9531,310.0752,850.9531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.2075" x="310.0752" y="832.8872">resyncVisuals()</text></g><g class="message" data-participant-1="SilkRoad" data-participant-2="SilkRoad"><line style="stroke:#181818;stroke-width:1;" x1="303.0752" x2="345.0752" y1="880.0859" y2="880.0859"/><line style="stroke:#181818;stroke-width:1;" x1="345.0752" x2="345.0752" y1="880.0859" y2="893.0859"/><line style="stroke:#181818;stroke-width:1;" x1="304.0752" x2="345.0752" y1="893.0859" y2="893.0859"/><polygon fill="#181818" points="314.0752,889.0859,304.0752,893.0859,314.0752,897.0859,310.0752,893.0859" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.583" x="310.0752" y="875.02">layoutProfitBarAboveBoard()</text></g><!--SRC=[ZPDHQuCm58NVyolkes8xkjSn2srXCEZ3wCPUnXwkCPRGB94ajdI_VZTgnMwhwaEGy9rppp4HkJSMLc5Ti1AjbroMg3syIdNO6SolDjS6RSvOWyDysL7m04AxoegQsA1-advhzfAZYYozp83J6hEElzPc5b8872HWhDnBlJEdcp0dcFVXZL6CeVBm8Gk8oEmH5l4d0tfkU62UlvcIVEQP7UAwC92ahMW8r-94hEl1GkVzQ7nIjAqeV9sDZsUZxksue1e9Hx3hqx_IMLYcbmx38Iz5qt1q2Tp_xTauXO6ZJdMgD9phFqxXFX4aSWTMEFajXkrg_kuB3-9P7wMJcH9HF2g0EcnplQEsswpBFstU-vHfLE6iEQ4LAZUCAZoRohzOKqY_HhlApB7vkqX6t-W7]--></g></svg>